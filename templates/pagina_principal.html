<html>
    <head>
        <title>Tur</title>

        <script language="javascript" type="text/javascript"  src="https://ajax.googleapis.com/ajax/libs/jquery/1.4.4/jquery.min.js"></script>
        <script language="javascript" type="text/javascript" src="{{ url_for('static', filename='scripts/arbor.js') }}"></script>
        <script language="javascript" type="text/javascript" src="{{ url_for('static', filename='scripts/graphics.js') }}"></script>
        <script language="javascript" type="text/javascript" src="{{ url_for('static', filename='scripts/renderer.js') }}"></script>
    </head>
    <body>
      <canvas id="viewport" width="800" height="600"></canvas>
      
      <script language="javascript" type="text/javascript">

            var matrizDistancias = {{ matrizDistancias }}
            var conjuntosSubgrafos = {{ conjuntosSubgrafos }}

            console.log("matrizDistancias", matrizDistancias)
            console.log("conjuntosSubgrafos", conjuntosSubgrafos)

            HeldKarp(matrizDistancias, conjuntosSubgrafos)

            function HeldKarp(matrizDistancias, conjuntosSubgrafos){
                nos = matrizDistancias.length

                custoPercursoSubgrafos = {}

                for (var no = 1; no < nos; no++){
                    // coleta as distâncias da primeira locomoção
                    custoPercursoSubgrafos[[1 << no, i]] = [
                        matrizDistancias[0][no], 0
                    ]
                }

                // console.log("custoPercusoSubgrafos", custoPercursoSubgrafos)

                for (var i = 2; i < nos; i++){
                    // Números de subgrafos de mesmo tamanho
                    numeroSubgrafos = conjuntosSubgrafos[i-2].length
                    
                    var j = 0
                    while (j < numeroSubgrafos){
                        tamanhoSubgrafo = conjuntosSubgrafos[i-2][j].length

                        // console.log("subgrafo", conjuntosSubgrafos[i-2][j])

                        var k = 0
                        var bits = 0
                        while (k < tamanhoSubgrafo){
                            subgrafo = conjuntosSubgrafos[i-2][j]

                            // console.log(subgrafo)

                            bits = bits | 1 << subgrafo[k]

                            // console.log(bits)

                            k = k + 1
                        }

                        var k = 0


                        j = j + 1
                    }
                }

            }
      </script>
    </body>
</html>